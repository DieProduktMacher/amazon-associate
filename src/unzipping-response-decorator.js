// Generated by CoffeeScript 1.6.3
var EventEmitter, zlib,
  __hasProp = {}.hasOwnProperty,
  __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };

EventEmitter = require('events').EventEmitter;

zlib = require('zlib');

module.exports = (function(_super) {
  __extends(_Class, _super);

  function _Class(res) {
    var gunzip,
      _this = this;
    this.statusCode = res.statusCode;
    this.httpVersion = res.httpVersion;
    this.headers = res.headers;
    this.trailers = res.trailers;
    gunzip = zlib.createUnzip();
    res.on('data', function(data) {
      return gunzip.write(data);
    });
    res.on('end', function() {
      return gunzip.end();
    });
    res.on('close', function(err) {
      return _this.emit('close', err);
    });
    gunzip.on('data', function(data) {
      return _this.emit('data', data.toString());
    });
    gunzip.on('error', function(err) {
      return _this.emit('close', err);
    });
    gunzip.on('end', function() {
      return _this.emit('end');
    });
    this.res = res;
  }

  _Class.prototype.setEncoding = function(encoding) {
    return this.res.setEncoding(encoding);
  };

  _Class.prototype.pause = function() {
    return this.res.pause();
  };

  _Class.prototype.resume = function() {
    return this.res.resume();
  };

  return _Class;

})(EventEmitter);
